<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>emrullahaydogdu design ¬∑ plush</title>
<meta name="theme-color" content="#0b1428" />
<style>
  :root{
    --bg1:#0b1428; --bg2:#1b2a4f;
    --glass:rgba(255,255,255,.06); --line:rgba(255,255,255,.14);
  }
  html,body{height:100%;margin:0}
  body{
    background: radial-gradient(1400px 900px at 70% 8%, var(--bg2), var(--bg1));
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color:#eef6ff; overflow:hidden;
  }
  .stage{ position:fixed; inset:0; display:grid; place-items:center; }
  .wrap{
    position:relative; width:min(86vmin, 860px); aspect-ratio:1/1;
    filter: drop-shadow(0 40px 80px rgba(0,0,0,.5)); user-select:none; -webkit-user-drag:none;
    transform-style:preserve-3d; perspective:800px;
  }
  #monster{
    position:absolute; inset:0; width:100%; height:100%; object-fit:contain;
    transform-origin:50% 60%;
    will-change:transform;
  }
  /* √ºst katman efekt kanvaslarƒ± */
  canvas.fx{ position:absolute; inset:0; width:100%; height:100%; display:block; pointer-events:none; }
  /* altƒ±na yumu≈üak zemin g√∂lge */
  .shadow{
    position:absolute; left:50%; bottom:3.5%; transform:translateX(-50%);
    width:62%; height:26px; border-radius:50%;
    background: radial-gradient(closest-side, rgba(0,0,0,.32), rgba(0,0,0,0));
    filter: blur(2px);
  }

  /* ipucu & imza */
  .hint{
    position:fixed; left:14px; top:12px; z-index:20; font-size:13px;
    background:var(--glass); border:1px solid var(--line);
    padding:8px 12px; border-radius:12px; backdrop-filter: blur(6px);
  }
  @media (max-width:520px){ .hint{ display:none } }
  .credit{
    position:fixed; right:14px; bottom:12px; z-index:20;
    font-size:12.5px; opacity:.95; background:var(--glass); border:1px solid var(--line);
    padding:6px 10px; border-radius:10px; backdrop-filter:blur(6px)
  }
</style>
</head>
<body>
<div class="hint">ü©µ dokun / hareket ettir: hafif parallax</div>
<div class="stage">
  <div class="wrap" id="wrap">
    <img id="monster" src="monster.png" alt="plush" />
    <div class="shadow"></div>
    <!-- efekt katmanlarƒ± -->
    <canvas id="bloom" class="fx"></canvas>   <!-- yumu≈üak parlama -->
    <canvas id="spark" class="fx"></canvas>   <!-- minik parƒ±ltƒ± taneleri -->
    <canvas id="glow"  class="fx"></canvas>   <!-- yumu≈üak ƒ±≈üƒ±k nefesi -->
  </div>
</div>
<div class="credit">emrullahaydogdu design</div>

<script>
/* ========= ayarlar ========= */
const IMG_SRC = 'monster.png'; // gerekirse deƒüi≈ütir
const BREATH = { amp: 0.012, speed: 2.0 }; // 0.012 = %1.2 scale; istersen 0 yap
const PARALLAX = 10; // px (telefon i√ßin d√º≈ü√ºk, istersen 16-20 yap)
const SPARKLES = 16; // parƒ±ltƒ± taneciƒüi (yumu≈üak)
const BLOOM_STRENGTH = 0.55; // 0..1 yumu≈üak ‚Äúkadife‚Äù parlama

/* ========= elemanlar ========= */
const wrap  = document.getElementById('wrap');
const imgEl = document.getElementById('monster');
const cBloom= document.getElementById('bloom'), xBloom=cBloom.getContext('2d');
const cSpark= document.getElementById('spark'), xSpark=cSpark.getContext('2d');
const cGlow = document.getElementById('glow'),  xGlow =cGlow.getContext('2d');

/* ========= boyutlandƒ±rma ========= */
function fitCanvas(c){
  const r = c.getBoundingClientRect();
  const d = Math.max(1, Math.min(2, devicePixelRatio||1));
  c.width = Math.floor(r.width*d); c.height = Math.floor(r.height*d);
  c.style.width = r.width+'px'; c.style.height = r.height+'px';
  const ctx = c.getContext('2d'); ctx.setTransform(d,0,0,d,0,0);
}
function fitAll(){ [cBloom,cSpark,cGlow].forEach(fitCanvas); }
addEventListener('resize', fitAll, {passive:true}); fitAll();

/* ========= g√∂rsel y√ºklendiƒüinde ========= */
const baseImg = new Image(); baseImg.src = IMG_SRC;
baseImg.onload = () => {
  drawBloom(); // ilk bloom
  drawSpark(true); // ilk parƒ±ltƒ±lar
};

/* ========= nefes & parallax ========= */
let t0 = performance.now();
let px = 0, py = 0; // hedef parallax
let cx = 0, cy = 0; // anlƒ±k (smooth)
function updateParallax(e){
  const rect = wrap.getBoundingClientRect();
  const x = (e.clientX - rect.left)/rect.width - 0.5;
  const y = (e.clientY - rect.top)/rect.height - 0.5;
  px = x*PARALLAX; py = y*PARALLAX;
}
addEventListener('pointermove', updateParallax, {passive:true});
addEventListener('pointerdown', updateParallax, {passive:true});

function animate(){
  const t = performance.now();
  const dt = Math.min(33, t - t0); t0 = t;

  // nefes
  const breath = 1 + Math.sin(t*0.001*BREATH.speed)*BREATH.amp;
  imgEl.style.transform = `translate3d(${cx}px,${cy}px,0) scale(${breath})`;

  // parallax easing
  cx += (px - cx) * 0.08;
  cy += (py - cy) * 0.08;

  // soft glow ‚Äúnefesi‚Äù
  drawGlow(t);

  // sparkleri arada g√ºncelle
  if ((t|0) % 60 < 16) drawSpark(false);

  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);

/* ========= yumu≈üak parlama (bloom) =========
   teknik: resmi k√º√ß√ºk boyda √ßiz ‚Üí blur ‚Üí tekrar √ºstte additive karƒ±≈ütƒ±r
============================================ */
function drawBloom(){
  const w = cBloom.clientWidth, h = cBloom.clientHeight;
  xBloom.clearRect(0,0,w,h);

  // resmi low-res olarak k√º√ß√ºlt
  const scale = 0.6; // d√º≈ü√ºk boy
  const bw = w*scale, bh = h*scale;
  // merkezde konumla
  const dx = (w - bw)/2, dy = (h - bh)/2;

  // blur ve yumu≈üak parlama
  xBloom.save();
  xBloom.filter = 'blur(8px) brightness(1.15) saturate(1.08)';
  xBloom.globalAlpha = BLOOM_STRENGTH;
  xBloom.drawImage(baseImg, dx, dy, bw, bh);
  xBloom.restore();
}

/* ========= parƒ±ltƒ± taneleri ========= */
const stars = Array.from({length:SPARKLES}, (_,i)=>({
  x: Math.random(), y: Math.random(), r: 60 + Math.random()*120, t: Math.random()*Math.PI*2
}));
function drawSpark(initial){
  const w = cSpark.clientWidth, h = cSpark.clientHeight;
  xSpark.clearRect(0,0,w,h);
  for(const s of stars){
    if(!initial){ s.t += 0.002; }
    const x = s.x*w + Math.sin(s.t)*6;
    const y = s.y*h + Math.cos(s.t*1.3)*6;
    const g = xSpark.createRadialGradient(x,y,0,x,y,s.r);
    g.addColorStop(0,'rgba(255,255,255,.08)');
    g.addColorStop(1,'rgba(255,255,255,0)');
    xSpark.fillStyle = g; xSpark.beginPath(); xSpark.arc(x,y,s.r,0,Math.PI*2); xSpark.fill();
  }
}

/* ========= yumu≈üak ƒ±≈üƒ±k nefesi (√ßok hafif) ========= */
function drawGlow(t){
  const w = cGlow.clientWidth, h = cGlow.clientHeight;
  xGlow.clearRect(0,0,w,h);
  const pulse = (Math.sin(t*0.0014)+1)/2; // 0..1
  const R = 180 + pulse*80;
  const x = w*0.52, y = h*0.38; // √ºst-orta y√∂nde bir ƒ±≈üƒ±k
  const g = xGlow.createRadialGradient(x,y,0,x,y,R);
  g.addColorStop(0, `rgba(255,255,255,${0.10 + pulse*0.05})`);
  g.addColorStop(1, 'rgba(255,255,255,0)');
  xGlow.fillStyle = g; xGlow.beginPath(); xGlow.arc(x,y,R,0,Math.PI*2); xGlow.fill();
}

/* ========= ilk merkezde parallax i√ßin kƒ±sa dokunu≈ü ========= */
wrap.addEventListener('pointerleave', ()=>{ px=py=0; }, {passive:true});
</script>
</body>
</html>
